# 面经采集

[redis](https://www.nowcoder.com/jump/super-jump/word?word=redis)为什么能实现分布式锁？

除了[redis](https://www.nowcoder.com/jump/super-jump/word?word=redis)能实现还有其他实现方式吗

[redis](https://www.nowcoder.com/jump/super-jump/word?word=redis)怎么部署的？ 这里我答了springboot怎么引入[redis](https://www.nowcoder.com/jump/super-jump/word?word=redis)，感觉应该答单机和多机部署的。 

  3、对Redis了解多吗？你觉得Redis最核心的功能是什么？ 

  9、详细介绍下CMS？ 

  10、什么情况下老年代会发生GC？ 

  11、JVM怎么判断一个对象是否是垃圾对象？ 

  12、String、StringBuilder、StringBuffer有什么区别？ 

  13、HashMap是线程安全的吗？为什么呢？ 

  14、HashMap在遇到key冲突的时候是怎么处理的呢？ 

  15、HashMap底层为什么要用[红黑树]()呢？为什么不用[平衡二叉树]()？ 

  16、HashMap不是线程安全的，如果要保证线程安全怎么办呢？可以用什么？ 

  17、ConcurrentHashMap为什么是线程安全的？ 

2.HashMap的实现原理，什么是hash碰撞，怎样解决hash碰撞？ 3.ConcurrentHashMap的原理，与HashTable的区别？
4.HashSet和TreeSet的区别以及底层实现原理
5.HashMap中存key-value，value有重复但是都是Comparable类型可比较；怎样根据value排序此集合，介绍实现方法



  18、什么是线程安全？为什么不安全？ 

  19、一般怎么样才能做到线程安全？ 

  20、volatile 关键字是什么原理？ 

  21、描述下，我在浏览器上输入一个URL，到最终页面呈现经历了哪些过程？ 

  22、tcp和udp有什么区别？分别应用于哪些场景？ 

  23、mysql里面的乐观锁和悲观锁熟悉吗？ 

  24、你平时在Java技术方面，对哪些方面了解比较透彻？ 

  25、如果让你作为面试官，你问我一个比较深入的问题，你会问什么呢？ 

  场景题：项目部署到Linux服务器后，cpu飙到100%了，怎么去排查？ 

---

**一面**

6.ReentrantLock和synchronized关键字有什么区别？
7.synchronized 修饰static方法，具体锁的是什么？
8.工作当中cpu和内存异常排查方法；详细说明分析过程及定位解决方式
9.接着是讲项目，项目里的问题比较简单； 然后就是各种基础，jvm内存模型，nio，bio，aio，高并发，sychronized和volltail，HashMap，数据结构和扩容； 还有一些场景题目，大并发/海量数量的情况下，怎么设计系统。从里面拿出两点来问，一个是系统解耦，一个是分库分表； 最后一个是编码题，HashMap里key是自定义对象的情况，排序 jvm问的比较多，线上发版如何做到分批发的，redis命令，数据结构，数据库内部锁机制，线上问题解决，sql优化等等;
**二面**
1.ClassLoader的原理,举出应用场景及工作实例，介绍类加载过程及工作中的应用 2.HashMap的实现原理，什么是hash碰撞，怎样解决hash碰撞？ 3.ConcurrentHashMap的原理，与HashTable的区别？
4.HashSet和TreeSet的区别以及底层实现原理
5.HashMap中存key-value，value有重复但是都是Comparable类型可比较；怎样根据value排序此集合，介绍实现方法 6.ReentrantLock和synchronized关键字有什么区别？
7.synchronized 修饰static方法，具体锁的是什么？
8.工作当中cpu和内存异常排查方法；详细说明分析过程及定位解决方式
9。一个jvm的原理及优化；
10.sql的优化；
11.现在使用的框架原理，比如使用了dubbo，会问dubbo的原理，还有h5怎么调用dubbo等；
13.然后就是各种基础，jvm内存模型，nio，bio，aio，高并发sychronized和volltail，HashMap，数据结构和扩容；
14.还有一些场景题目，大并发/海量数量的情况下，怎么设计系统。从里面拿出两点来问，一个是系统解耦，一个是分库分表； 

15.最后一个是编码题，HashMap里key是自定义对象的情况，排序
**三面**
1、executor service实现的方法，可以设置的参数；
2、出了个算法提，找出链表中倒数第n个节点；
3、还问了thread和runable的区别；
4、聚簇索引是什么；
5、redis问了一个实际问题的解决办法，如果redis一个value特别大，有什么解决方案；
6、redis内存淘汰机制；
7、mysql的默认隔离级别；
\8. 堆排序
\9. paxos协议
\10. 跨机房部署，遇到的问题及解决方案，全年的9999率 11. MMM的DB架构，主从未完全同步，master挂了，未同步的内容会造成什么影响，怎么恢复
\12. ng和tomcat什么区别？能否将两者角色互换。即：tomcat做反向代理，ng做服务容器。说明原因。
\13. DNS协议
\14. volatile实现原理
\15. NAT：公网ip和局域网ip转换
16.类加载委托机制，锁的应用，项目架构
**四面：**
0、 jit，nio，排序算法，hashmap，更多的是项目细节~
1、谈谈项目里主要负责了什么，负责的项目是怎样的架构，自己负责了什么等等； 2、JVM类加载机制；
3、JVM内存模型，栈空间都放什么，什么情况下栈内存会溢出等；
4、JVM调优；
5、JVM垃圾收集机制；
6、比较关心金融方面的知识是否了解，是否有过金融项目开发的经验；
7、jvm栅栏问题，threadlocal的使用；
8、JVM
9、多线程
10、List求交集
11、解决项目运行时，CPU占用过高的问题
12、线程同步几种机制
13、linux检索log，匹配某一请求最多的top10



上海旭千java实习面试
1.先简单自我介绍一下
2.java你用过的jdk版本，jdk1.8，你知道jdk1.8相较于1.7有什么新特性吗，我说我只知道一些类的底层实现不一样了，lambda表达式你知道吗(随便说了下），stream了解过吗。。。这个不知道
3.==和equals有什么区别
4.重载和重写有什么区别 这里说漏了应该把重写返回值（小）、异常（小）、修饰符范围说一下（大）
5.final关键字有什么作用，会用到哪些地方。修饰类，变量，方法。变量可以改变引用值，不能改变引用地址
6.list和set有什么区别 只说了特性应该扩展说说
7.线程的生命周期 感觉这个应该跟状态区分一下 生命周期说一下过程啥的
8.什么是死锁知道吗 这个问题我竟然说不清楚。。。
贴上回答
“死锁是指两个或两个以上的进程在执行过程中，由于竞争资源或者由于彼此通信而造成的一种阻塞的现象，若无外力作用，它们都将无法推进下去。此时称系统处于死锁状态或系统产生了死锁，这些永远在互相等待的进程称为死锁进程。”
9.单例和多例知道吗
10.假如说我在单例里面定义一个全局变量或者类变量的，它线程安全的还是线程不安全的，这个我不太知道，哪位大佬可以解答一下
11.反射知道吗 通过反射可以获取到一些什么东西
12.问一些spring的问题，常用注解
13.RestController和Controller的区别
14.Spring boot的核心配置文件是什么
15.ORM框架了解吗
16.mysql有几种引擎
17.索引的作用
18.索引有哪些类型
19.加速sql查询速度，索引加在哪里提升速度
20.简单解释一下链表是什么数据结构
21.简单介绍一下Git命令，平常是打命令还是用到idea（我说都有），或者怎么输入命令可以完成一套完整的流程
22.git分支管理，别人在远程推送的新分支怎么合并在自己上面
23.http和https的区别 我就说了个安全 感觉没说详细
24.开始问项目 弹幕系统怎么实现的
25.jwt进行登录校验 没说到点感觉 没说校验
26.token用的哪个库生成的 哪个包 完全不知道属于
27.文件分块传输，文件传输的用的哪种类型接口 我说的MultipartFile 不知道对不对
28.反问

作者：可怜巴巴
链接：https://www.nowcoder.com/discuss/237838?type=post&order=recall&pos=&page=1&ncTraceId=&channel=-1&source_id=search_post_nctrack&gio_id=EB80D0A70EA1DCD6282C9A2508046F11-1656410686081
来源：牛客网



50+分钟，小哥哥人很帅，皮肤很好[哔哩哔哩]()很养人，值得去。 

   介绍项目， 项目的具体实现，技术难点是什么，项目的价值再哪里。 
  看你[算法]()偏多应该比较适合投[算法]()岗； 
 你平时是怎么学习java的知识点的，有没有短期目标。在某个点学到哪里 
 集合有哪些接口，哪些实现类 
 ArrayList和LinkList的实现 
 HashMap的实现 
 事务的一致性，有没有实现过 
 线程池的优缺点+++，阻塞队列 
 Cas 
 Tensorflow 
 JVM内存模型 
 说说框架对数据库的操作 
 Synchronized和lock的区别 
 JVM有哪些垃圾回收器，默认的是哪个 
 死锁 
 Lock的公平锁的实现 
 了解当前哪些主流框架 



## 2022年3月25日 [美团]()一面 

#####  [算法题]() 

 最长连续子序列 

#####  JVM 

 GC[算法]()、垃圾收集器、CMS 

 对象头、markword 

 类加载器、类加载机制、准备和初始化在干什么 

#####  源码 

 集合类的顶级接口 

 HashMap原理、扩容 

 HashSet、Hashtable 

#####  并发 

 ReentrantLock、AQS 

 synchronized的改进 

 wait-notify、线程的状态 

#####  MySQL 

 引擎、索引、undo log、binlog、redo log 

 隔离级别、幻读 

 慢查询 

#####  框架 

 spring aop的实现机制？动态代理的实现机制？ 

#####  项目 

 Redis用来干什么？ 

 多大规模？ 

##  20220331 面试准备 

 Mysql 

 场景题：一个时间段、年龄 > 50 怎么建立索引 

 索引下推是什么？ 

 覆盖索引是什么？ 

#####  JVM 

 yong GC 的发生时间？发生频繁，发生时间长的原因和解决方案？ 

 CMS的过程？怎么标记垃圾的？三色标记法？G1的区别？ 

 CMS什么时候会STW？为什么要STW? 

#####  并发 

 手写多线程生产者消费者（阻塞队列实现、信号量实现） 

#####  项目 

 介绍下项目？ 

 项目中最大的难点？ 

 有多少张表？有哪些表？ 

 有哪些服务？ 

#####  Kafka 

 kafka用来干什么？ 

#####  Redis 

 Redis用来干什么？过期时间怎么设置？ 

#####  [算法]() 

 遍历[二叉树]() 

 删除所有重复的节点 

#####  Spring AOP 

 aop的原理？ 

 jdk 和 cglib的区别？ 

#####  DDD 

  DDD有了解吗？ 



自我介绍，对我介绍的内容比较感兴趣（加入学生科技团队），然后先聊了会天 

  【项目】 


  然后让我介绍一个对你而言有挑战性的项目 

  然后就顺着这个项目，问了很多细节，怎么实现的？ 

  其中涉及到多级评论 

  让我手写sql， 你怎么实现多级评论的sql语句的，然后对我进行疯狂鞭打。。。 

  然后又让写一个sql，查出数据库中每一个父评论下面有多少个子评论， （group by）语法有点忘了。。 

  然后又问道多级缓存，本地缓存(mybatis) + 分布式缓存 （Redis）， 

  为什么这么设计？ 

  能解决哪些问题？ 

  为什么能解决缓存雪崩？ 

  [redis]()什么情况下会没有数据？我说 过期了就没数据了撒？或者宕机 

  然后问为什么key会大面积失效？我说[redis]()内存有限嘛。保证内存空间及时释放嘛 

  问我多级缓存的执行顺序，先走[redis]() ，再走本地，最后走数据库？？ 


  然后又问你说[redis]()内存有限，那本地呢？ [redis]()放在前面，本地缓存放在后面，既然本地内存是有限的，那用本地缓存兜底能兜多少？？ 

  然后又问我，多级缓存的顺序如果调整一下怎么样？

  **【第一个八股】** [redis]()数据结构有哪些？？你用过哪些？？项目中怎么用的？ 

  为什么统计播放次数要用hash？？为什么不用简单的字符串？？ 

  点赞次数怎么更新的？ 

  有想过点赞次数的准确性吗？误差之类的？ 

  导致点赞次数误差的情况？？ 

  我说并发 i++ ，说道一半才发现不对，[redis]()不是单线程的吗？？。。。 

  然后面试官说，那是什么情况？ 我说宕机？ 

  然后又问除了宕机呢？还有什么情况？ 

  我说主从，数据不一致，但是最终会一致？ 

  面试官继续问，还有呢？（不知道了。。） 

  


  **【第二个八股】**然后问持久化？ 总算来了道八股了。。 rdb ，aof ，aof重写，aof_buf ,双缓存区保证数据一致性，反正巴拉巴拉拖时间 

  


  【场景题】 

  10个桶，1000个球，1000个球怎么分配到10个桶里，自己决定，放好了以后不能改，然后我给你一个数字，你能不能从10个桶里面找出加起来等于我给定数字的桶？ 

  比如给你数字15，你能不能找出对应的桶？ 不能给出理由？？ 

  


  用bitmap 就好了 

  1 1 1 1 1 1 1 1 1 1 依次放 1 2 4 8 16 32 64 128 256 512 

  面试官说ok。。 

  


  【[算法]()】 

  然后[算法]()十进制转二进制，感觉面试官是根据上面那个场景题现成出的 

  


  也不晓得对不对，哈哈 



[复制代码](#)

```
 ``public` `static` `String HEX_TO_BIN(``int` `num) {``    ``StringBuilder sb = ``new` `StringBuilder();``    ``while` `(num != ``0``) {``      ``int` `bit = num % ``2``;``      ``sb.append(bit);``      ``num = num/``2``;``    ``}``    ``return` `sb.reverse().toString();`` ``}
```

 然后面试官说干嘛reverse，我说辗转相除法，最后统计的时候不是从下往上哒，所以翻转一下， 

  面试官说，能不能自己写一个翻转的函数啊？ 

  我说啊这，好吧。。 

  


  然后又让写了个 **翻转字符串的函数** 

 

[复制代码](#)

```
public` `static` `String reverse(String str) {``    ``int` `left = ``0``, right = str.length() - ``1``;``    ``char``[] arr = str.toCharArray();``    ``while` `(left < right) {``      ``char` `temp = arr[left];``      ``arr[left] = arr[right];``      ``arr[right] = temp;``      ``left++;``      ``right--;``    ``}``    ``return` `new` `String(arr);`` ``}
```





  


  **【第三个八股】 输入url到浏览器，发送了什么、？**  **怎么解析url请求的？？？** 

  然后又问了一会项目 

  


  【项目】 

  登录？？你怎么验证对方的身份的？怎么知道登录的是你，不是他人？ 我说token 

  能具体讲一下流程吗？ cookie和session？ 

  为什么客户端访问的时候要带上cookie？不带行不行？？ 

  为什么不带cookie? 服务端负担加重？ 

  


  带了cookie有没有什么风险？？ 用户数据泄露？ 

  **【第四个八股** **】**我说用HTTPS哇？HTTPS怎么保证的？？对称密钥和非对称密钥？ 

  


  **【闲聊】** 

  介绍一下你眼中的B站？？ 当然是我在B站上大学咯 

  你通过实习想获得什么？？ 

  最快多久能过来实习？？实习多久？实习到12月可以接受吗？？



面试官人很好；先是聊了会天； 

  他说极客时间《MYSQL实战45讲》的点赞数最多的几条评论就是他写的（直呼好家伙！！） 

  然后聊转Go，说是新的业务线，问我考虑是否转语言。。（他说我很会回答，哈哈） 

  问我看来哪些书，我说《高性能mysql》，《从根儿上理解mysql》 

  然后就开始了。。问了得有半小时的mysql 

  【MYSQL】 

  谈谈你对索引的理解？ 

  聚集索引和非聚集索引的区别？ 

  联合索引的叶子节点是怎么存储的？回表？索引覆盖？ 

  怎么对回表进行优化？ 

  顺序IO和随机IO？ 

  索引是怎样参与到我们查一个数据的[排序]()的？（面试官说这个问题比较难。。） 

  我有点懵，从数据页来回答的，提到数据页的格式，pageHeader，然后一个页里面有最小记录，和最大记录。。。 

  面试官说：[排序]()优化有两种方案 全[排序]()和IOID[排序]()，(⊙o⊙)…。。 

  MYSQL为什么设计一张表要有主键（InnoDB下）？ 

  然后给我写了个sql，让我设计一下怎么建立索引。。 

  select * from t where a = 1 and b >2 and order by c desc 

  然后你能聊聊mysql事务？ 

  隔离级别？没种隔离级别会产生什么问题？怎么去解决的？ 

  MVCC，间隙锁，ACID底层实现？ 

  然后redolog，binlog，两阶段提交？ 

  


  【缓存Redis】 

  常用数据结构？底层实现？ 

  着重讲了SDS和Hash？ 

  SDS的优点？ 

  SDS底层的attribute_packed优化 

  然后面试官问Hash的另一种实现？？这里面试官是想问压缩[链表]() 

  然后提到压缩[链表]()会造成连锁更新等，后面提到quickList，ListPack。。面试官比较满意 

  Redis如何保存缓存和数据库的一致性？ 

  常见的读写模式？我说 旁路缓存 

  面试官说知道另外两种吗？各有什么缺点知道吗？我说读写穿透，异步缓存写入？ 

  面试官又提到延时双删，说用得很少，不知道没关系 

  场景题：许多请求查询缓存中不存在的数据？（面试官应该是想问缓存穿透） 

  答了：布隆过滤器和缓存无效key 

  


  【消息队列】 

  简单聊一聊MQ，怎么做的？ 

  引入MQ的缺点？ 

  怎么解决哪些缺点的？就是怎么保证高可用（镜像集群） 

  怎么保证消息不丢失？怎么保证消息不重复消费？ 

  


  【java虚拟机】 

  让我介绍JVM，这个问题很广； 

  我从java运行时数据区， 

  类加载器子系统 

  垃圾收集[算法]()等等， ，巴拉巴拉。。。。 

  面试官问我java之前采用过哪些垃圾收集[算法]()，意思想问问我对虚拟机的历史了解? 
 【Go】 

  问我，进程，线程，协程的区别？ 

  java可以实现线程吗？ 

  【微服务】 

  如何做服务注册与发现？Nacos是如何去做服务注册与发现的？面试官想问我原理。。。我说我不知道，就仅限于使用，面试官说会用就很不错了。。 

  让我结合项目，来如何做服务拆分的？ 

  有了解微服务的一些设计原则吗？ 

  【项目】 

  哪些项目有挑战性？怎么去解决的？ 

  多级缓存？怎么解决本地缓存与[redis]()数据不一致的情况 

  【[算法]()】 

   ![img](https://uploadfiles.nowcoder.com/images/20220308/765867720_1646718011208/D98BF77BD05D46F6ED962C0821117417) 


  【反问】 

  哪些方面需要加强？对我评价不错。。 

  反问业务：b端技术部 ，介绍他们的业务，b站跨年，f11，好像是做KPL,LOL春季赛那个板块的，感觉挺有意思的 

  实习生培养，面试官说包教包会，哈哈。。 



## 参考

### 面试题

* [2017 JAVA 面试题附答案](https://blog.csdn.net/u014664750/article/details/78980133)

* [Java 常见面试题整理](https://juejin.cn/post/6844903903197134856#heading-5)

* [JavaGuide](https://javaguide.cn/)

### 开源项目

* [XXL分布式系列](https://www.xuxueli.com/page/projects.html)

* [miaosha](https://github.com/qiurunze123/miaosha)

* [mall](https://github.com/macrozheng/mall)

  mall项目是一套电商系统，包括前台商城系统及后台管理系统，基于SpringBoot+MyBatis实现，采用Docker容器化部署。

   前台商城系统包含首页门户、商品推荐、商品搜索、商品展示、购物车、订单流程、会员中心、客户服务、帮助中心等模块。 

  后台管理系统包含商品管理、订单管理、会员管理、促销管理、运营管理、内容管理、统计报表、财务管理、权限管理、设置等模块。
